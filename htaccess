# Включаем модуль перезаписи
RewriteEngine On

# Запрещаем прямой доступ ко всем .php-файлам, кроме index.php
<Files "*.php">
    Require all denied
</Files>
<Files "index.php">
    Require all granted
</Files>

# Если запрашиваемый путь — это реальный файл или папка → отдаём как есть
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Всё остальное → передаём в index.php
RewriteRule ^(.*)$ index.php [QSA,L]